{"version":3,"sources":["node_modules/nodebb-plugin-composer-default/static/lib/composer/controls.js"],"names":["define","controls","insertIntoTextarea","textarea","value","$textarea","$","currentVal","val","slice","selectionStart","wrapSelectionInTextareaWith","leading","trailing","undefined","matches","exec","selectionEnd","length","updateTextareaSelection","start","end","setSelectionRange","focus"],"mappings":"AAAA,aAIAA,OAAO,oBAAqB,WAC3B,IAAIC,KAKJA,EAASC,mBAAqB,SAASC,EAAUC,GAChD,IAAIC,EAAYC,EAAEH,GAClB,IAAII,EAAaF,EAAUG,MAE3BH,EAAUG,IACTD,EAAWE,MAAM,EAAGN,EAASO,gBAC7BN,EACAG,EAAWE,MAAMN,EAASO,kBAI5BT,EAASU,4BAA8B,SAASR,EAAUS,EAASC,GAClE,GAAIA,IAAaC,UAAW,CAC3BD,EAAWD,EAGZ,IAAIP,EAAYC,EAAEH,GAClB,IAAII,EAAaF,EAAUG,MAE3B,IAAIO,EAAU,yBAAyBC,KAAKT,EAAWE,MAAMN,EAASO,eAAgBP,EAASc,eAE/F,IAAKF,EAAQ,GAAI,CAEhBA,GAAW,KAAM,GAAIR,EAAWE,MAAMN,EAASO,eAAgBP,EAASc,cAAe,IAGxFZ,EAAUG,IACTD,EAAWE,MAAM,EAAGN,EAASO,gBAC7BK,EAAQ,GACRH,EACAG,EAAQ,GACRF,EACAE,EAAQ,GACRR,EAAWE,MAAMN,EAASc,eAG3B,OAAQF,EAAQ,GAAGG,OAAQH,EAAQ,GAAGG,SAGvCjB,EAASkB,wBAA0B,SAAShB,EAAUiB,EAAOC,GAC5DlB,EAASmB,kBAAkBF,EAAOC,GAClCf,EAAEH,GAAUoB,SAIb,OAAOtB","file":"node_modules/nodebb-plugin-composer-default/static/lib/composer/controls.js","sourcesContent":["\"use strict\";\n\n/*global define*/\n\ndefine('composer/controls', function() {\n\tvar controls = {};\n\n\t/*************************************************/\n\t/* Rich Textarea Controls                        */\n\t/*************************************************/\n\tcontrols.insertIntoTextarea = function(textarea, value) {\n\t\tvar $textarea = $(textarea);\n\t\tvar currentVal = $textarea.val();\n\n\t\t$textarea.val(\n\t\t\tcurrentVal.slice(0, textarea.selectionStart) +\n\t\t\tvalue +\n\t\t\tcurrentVal.slice(textarea.selectionStart)\n\t\t);\n\t};\n\n\tcontrols.wrapSelectionInTextareaWith = function(textarea, leading, trailing){\n\t\tif (trailing === undefined) {\n\t\t\ttrailing = leading;\n\t\t}\n\n\t\tvar $textarea = $(textarea);\n\t\tvar currentVal = $textarea.val();\n\n\t\tvar matches = /^(\\s*)([\\s\\S]*?)(\\s*)$/.exec(currentVal.slice(textarea.selectionStart, textarea.selectionEnd));\n\n\t\tif (!matches[2]) {\n\t\t\t// selection is entirely whitespace\n\t\t\tmatches = [null, '', currentVal.slice(textarea.selectionStart, textarea.selectionEnd), ''];\n\t\t}\n\n\t\t$textarea.val(\n\t\t\tcurrentVal.slice(0, textarea.selectionStart) +\n\t\t\tmatches[1] +\n\t\t\tleading +\n\t\t\tmatches[2] +\n\t\t\ttrailing +\n\t\t\tmatches[3] +\n\t\t\tcurrentVal.slice(textarea.selectionEnd)\n\t\t);\n\n\t\treturn [matches[1].length, matches[3].length];\n\t};\n\n\tcontrols.updateTextareaSelection = function(textarea, start, end){\n\t\ttextarea.setSelectionRange(start, end);\n\t\t$(textarea).focus();\n\t};\n\n\n\treturn controls;\n});\n"]}