{"version":3,"sources":["public/src/admin/modules/instance.js"],"names":["define","instance","reload","callback","app","alert","alert_id","type","title","message","timeout","$","window","one","socket","emit","restart"],"mappings":"AAAA,aAGAA,OAAO,yBAA0B,WAChC,IAAIC,KAEJA,EAASC,OAAS,SAAUC,GAC3BC,IAAIC,OACHC,SAAU,kBACVC,KAAM,OACNC,MAAO,qDACPC,QAAS,uBACTC,QAAS,MAGVC,EAAEC,QAAQC,IAAI,qBAAsB,WACnCT,IAAIC,OACHC,SAAU,kBACVC,KAAM,UACNC,MAAO,sCACPC,QAAS,oCACTC,QAAS,MAGV,UAAWP,IAAa,WAAY,CACnCA,OAIFW,OAAOC,KAAK,iBAGbd,EAASe,QAAU,SAAUb,GAC5BC,IAAIC,OACHC,SAAU,mBACVC,KAAM,OACNC,MAAO,sDACPC,QAAS,gEACTC,QAAS,MAGVC,EAAEC,QAAQC,IAAI,qBAAsB,WACnCT,IAAIC,OACHC,SAAU,mBACVC,KAAM,UACNC,MAAO,sCACPC,QAAS,qCACTC,QAAS,MAGV,UAAWP,IAAa,WAAY,CACnCA,OAIFW,OAAOC,KAAK,gBAAiB,WAC5BX,IAAIC,OACHC,SAAU,mBACVC,KAAM,OACNC,MAAO,2DACPC,QAAS,uBACTC,QAAS,SAKZ,OAAOT","file":"public/src/admin/modules/instance.js","sourcesContent":["'use strict';\r\n\r\n\r\ndefine('admin/modules/instance', function () {\r\n\tvar instance = {};\r\n\r\n\tinstance.reload = function (callback) {\r\n\t\tapp.alert({\r\n\t\t\talert_id: 'instance_reload',\r\n\t\t\ttype: 'info',\r\n\t\t\ttitle: 'Reloading... <i class=\"fa fa-spin fa-refresh\"></i>',\r\n\t\t\tmessage: 'NodeBB is reloading.',\r\n\t\t\ttimeout: 5000,\r\n\t\t});\r\n\r\n\t\t$(window).one('action:reconnected', function () {\r\n\t\t\tapp.alert({\r\n\t\t\t\talert_id: 'instance_reload',\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\ttitle: '<i class=\"fa fa-check\"></i> Success',\r\n\t\t\t\tmessage: 'NodeBB has reloaded successfully.',\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t});\r\n\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsocket.emit('admin.reload');\r\n\t};\r\n\r\n\tinstance.restart = function (callback) {\r\n\t\tapp.alert({\r\n\t\t\talert_id: 'instance_restart',\r\n\t\t\ttype: 'info',\r\n\t\t\ttitle: 'Rebuilding... <i class=\"fa fa-spin fa-refresh\"></i>',\r\n\t\t\tmessage: 'NodeBB is rebuilding front-end assets (css, javascript, etc).',\r\n\t\t\ttimeout: 10000,\r\n\t\t});\r\n\r\n\t\t$(window).one('action:reconnected', function () {\r\n\t\t\tapp.alert({\r\n\t\t\t\talert_id: 'instance_restart',\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\ttitle: '<i class=\"fa fa-check\"></i> Success',\r\n\t\t\t\tmessage: 'NodeBB has successfully restarted.',\r\n\t\t\t\ttimeout: 10000,\r\n\t\t\t});\r\n\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsocket.emit('admin.restart', function () {\r\n\t\t\tapp.alert({\r\n\t\t\t\talert_id: 'instance_restart',\r\n\t\t\t\ttype: 'info',\r\n\t\t\t\ttitle: 'Build Complete!... <i class=\"fa fa-spin fa-refresh\"></i>',\r\n\t\t\t\tmessage: 'NodeBB is reloading.',\r\n\t\t\t\ttimeout: 10000,\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\treturn instance;\r\n});\r\n"]}