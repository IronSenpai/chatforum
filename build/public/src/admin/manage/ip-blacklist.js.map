{"version":3,"sources":["public/src/admin/manage/ip-blacklist.js"],"names":["define","Blacklist","init","blacklist","$","on","val","socket","emit","err","app","alertError","message","alert","type","alert_id","title","rules","data","templates","parse","html","bootbox"],"mappings":"AAAA,aAGAA,OAAO,+BAAiC,WACvC,IAAIC,KAEJA,EAAUC,KAAO,WAChB,IAAIC,EAAYC,EAAE,oBAElBD,EAAUE,GAAG,QAAS,WACrBD,EAAE,2BAA2BE,IAAIH,EAAUG,SAG5CF,EAAE,yBAAyBC,GAAG,QAAS,WACtCE,OAAOC,KAAK,iBAAkBL,EAAUG,MAAO,SAAUG,GACxD,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAIG,SAE3BF,IAAIG,OACHC,KAAM,UACNC,SAAU,kBACVC,MAAO,6DAKVZ,EAAE,wBAAwBC,GAAG,QAAS,WACrCE,OAAOC,KAAK,sBACXS,MAAOd,EAAUG,OACf,SAAUG,EAAKS,GACjB,GAAIT,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAIG,SAG3BO,UAAUC,MAAM,oCAAqCF,EAAM,SAAUG,GACpEC,QAAQT,MAAMQ,UAMlB,OAAOpB","file":"public/src/admin/manage/ip-blacklist.js","sourcesContent":["'use strict';\r\n\r\n\r\ndefine('admin/manage/ip-blacklist', [], function () {\r\n\tvar Blacklist = {};\r\n\r\n\tBlacklist.init = function () {\r\n\t\tvar blacklist = $('#blacklist-rules');\r\n\r\n\t\tblacklist.on('keyup', function () {\r\n\t\t\t$('#blacklist-rules-holder').val(blacklist.val());\r\n\t\t});\r\n\r\n\t\t$('[data-action=\"apply\"]').on('click', function () {\r\n\t\t\tsocket.emit('blacklist.save', blacklist.val(), function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\tapp.alert({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\talert_id: 'blacklist-saved',\r\n\t\t\t\t\ttitle: '[[admin/manage/ip-blacklist:alerts.applied-success]]',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('[data-action=\"test\"]').on('click', function () {\r\n\t\t\tsocket.emit('blacklist.validate', {\r\n\t\t\t\trules: blacklist.val(),\r\n\t\t\t}, function (err, data) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttemplates.parse('admin/partials/blacklist-validate', data, function (html) {\r\n\t\t\t\t\tbootbox.alert(html);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\treturn Blacklist;\r\n});\r\n"]}